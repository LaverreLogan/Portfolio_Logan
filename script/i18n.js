// const locale = "en";

// const translations = {
    
//     "en": {
//         "link1": "About me",
//         "link2": "Skills",
//         "link3": "Portfolio",
//         "link4": "Contact",
//         "aboutMeText": "My name is Logan Laverre and I am passionate about developement and computers in general.<br/><br/>I was a shelf worker for almost 8 years and I have learned a lot about team work, autonomy and work ethic.<br/><br/>  I started to learn basics of HTML / CSS by myself and profesionalize my learning at the Instic's school based in Lyon.<br/><br/>If you want to know more about me, you can check my CV or contact me !",
//         "aboutMeButton": "Look at my CV",
//         "seeMoreButton": "Click to see more !",
//         "portfolioTitle1": "Game, seat<br> & match",
//         "portfolioText1": "Roland-Garros first official Nft Collection.",
//         "portfolioProjectTitle": "Project infos",
//         "portfolioDetailsText1": "The famous tennis Roland-Garros tournament launched their first NFT collection in the form of a virtual seat on the Philippe-Chatrier court. Holders received exclusive benefits during the tournament.",
//         "portfolioRealisationTitle": "Realisation",
//         "portfolioDetailsList1_1": "Development with Vue.js",
//         "portfolioDetailsList1_2": "Html / CSS integration",
//         "portfolioDetailsList1_3": "I18n integration",
//         "portfolioDetailsList1_4": "Responsive design",
//         "portfolioDetailsLink": "Visit website",
//         "portfolioTitle2": "Foxlabs",
//         "portfolioText2": "This website is the project of a conception and robotic enthusiast",
//         "portfolioDetailsText2": "Foxlabs is a storefront / e-shop website where you can order and purchase 3D prints and prototypes.",
//         "portfolioDetailsList2_1": "Development with Vue.js",
//         "portfolioDetailsList2_2": "Html / CSS integration",
//         "portfolioDetailsList2_3": "Shopify API integration",
//         "portfolioDetailsList2_4": "User page creation",
//         "portfolioDetailsList2_5": "Requests with GraphQL",
//         "portfolioDetailsList2_6": "Responsive design",
//         "portfolioTitle3": "Crypto <br>Shrimps",
//         "portfolioText3": "Very unique activity who aim to become the first NFT project to support a professional football club.",
//         "portfolioDetailsText3": "A NFT collection where the benefits will be used to create a special connection between supporters and a professional football club.",
//         "portfolioDetailsList3_1": "Development with Vue.js",
//         "portfolioDetailsList3_2": "Html / CSS integration",
//         "portfolioDetailsList3_3": "Api's integration (Roadmap and distribution graph)",
//         "portfolioTitle4": "Praverse",
//         "portfolioText4": "This company wants to be the reference of luxury streetwear brand.",
//         "portfolioDetailsText4": "You can purchase NFT on the Etherum blockchain to collect clothes and accessories who have been hand-drawn by a stylist.",
//         "portfolioDetailsList4_1": "Development with Vue.js",
//         "portfolioDetailsList4_2": "Html / CSS integration",
//         "portfolioDetailsList4_3": "Responsive design",
//         "contactTitle": "You want to start a project or you have a question ? <br><br>Contact me !",
//         "contactButton": "Send"
//     },
    
//     "fr": {
//         "link1": "À propos",
//         "link2": "Compétences",
//         "link3": "Portfolio",
//         "link4": "Contact",
//         "aboutMeText": "Je m'appelle Logan Laverre et je suis passionné de développement et d'informatique en général<br/><br/>J'étais manutentionnaire pendant environ 8 ans and j'ai beaucoup appris sur le travail d'équipe, l'autonomie and l'éthique de travail.<br/><br/>J'ai commencé à apprendre les bases du HTML / CSS en autodidacte et professionalisé mon apprentissage à l'école Instic basé à Lyon.<br/><br/>Si vous voulez en savoir plus sur moi, vous pouvez consulter mon CV ou me contacter !",
//         "aboutMeButton": "Voir mon CV",
//         "seeMoreButton": "Voir plus !",
//         "portfolioTitle1": "Game, seat<br> & match",
//         "portfolioText1": "Première collection officielle de Nft pour Roland-Garros",
//         "portfolioProjectTitle": "Infos projet",
//         "portfolioDetailsText1": "Le célèbre tournoi Roland-Garros ont lancés leur première collection de Nft sous la forme d'un siège virtuel du court Philippe-Chatrier. Les pocesseurs d'un Nft reçoivent des avantages exclusifs pendant le tournoi.",
//         "portfolioRealisationTitle": "Réalisation",
//         "portfolioDetailsList1_1": "Développement avec Vue.js",
//         "portfolioDetailsList1_2": "Intégration Html / CSS",
//         "portfolioDetailsList1_3": "Intégration I18n",
//         "portfolioDetailsList1_4": "Responsive design",
//         "portfolioDetailsLink": "Visiter le site",
//         "portfolioTitle2": "Foxlabs",
//         "portfolioText2": "Ce site est le projet d'un passionné de conception et de robotique",
//         "portfolioDetailsText2": "Foxlabs est une vitrine / site e-shop où vous pouvez commander et acheter des impressions et prototypes 3D",
//         "portfolioDetailsList2_1": "Développement avec Vue.js",
//         "portfolioDetailsList2_2": "Intégration Html / CSS",
//         "portfolioDetailsList2_3": "Intégration de l'API Shopify",
//         "portfolioDetailsList2_4": "Création de la page utilisateur",
//         "portfolioDetailsList2_5": "Requêtes avec GraphQL",
//         "portfolioDetailsList2_6": "Responsive design",
//         "portfolioTitle3": "Crypto <br>Shrimps",
//         "portfolioText3": "Activité vraiment unique qui vise à devenir le premier projet NFT à soutenir un club de football professionel.",
//         "portfolioDetailsText3": "Une collection NFT dont les bénéfices serviront à créer un lien privilégié entre les supporters et un club de football professionnel.",
//         "portfolioDetailsList3_1": "Développement avec Vue.js",
//         "portfolioDetailsList3_2": "Intégration Html / CSS",
//         "portfolioDetailsList3_3": "Intégration de plusieurs Api (Roadmap et distribution graphique)",
//         "portfolioTitle4": "Praverse",
//         "portfolioText4": "Cette entreprise veut être la marque de référence de streetwear de luxe.",
//         "portfolioDetailsText4": "Vous pouvez acheter des NFT sur la blockchain Etherum pour collecter des vêtements et accessoires dessinés par un styliste.",
//         "portfolioDetailsList4_1": "Développement avec Vue.js",
//         "portfolioDetailsList4_2": "Intégration Html / CSS",
//         "portfolioDetailsList4_3": "Responsive design",
//         "contactTitle": "Vous voulez démarrer un projet ou vous avez une question ? <br><br>Contactez moi !",
//         "contactButton": "Envoyer"
//     },
// };

// document.addEventListener("DOMContentLoaded", () => {
//     let elements = document
//     .querySelectorAll("[data-i18n-key]")
//     .forEach(translateElement);4
//     console.log(elements)
// });

// function translateElement(element) {
//     const key = element.getAttribute("data-i18n-key");
//     const translation = translations[locale][key];
//     element.innerText = translation;
// }


const defaultLocale = "fr";
let locale;
let translations = {};
document.addEventListener("DOMContentLoaded", () => {
    setLocale(defaultLocale);
    bindLocaleSwitcher(defaultLocale);
    selectedLang();
    // changeImgs();
});
async function setLocale(newLocale) {
    if (newLocale === locale) return;

    const newTranslations = 
        await fetchTranslationsFor(newLocale);

    locale = newLocale;
    translations = newTranslations;

    translatePage();
}

async function fetchTranslationsFor(newLocale) {
    const response = await fetch(`lang/${newLocale}.json`);
    return await response.json();
}

function translatePage() {
    document
        .querySelectorAll("[data-i18n-key]")
        .forEach(translateElement);
}

function translateElement(element) {
    const key = element.getAttribute("data-i18n-key");
    const translation = translations[key];
    element.innerHTML = translation;
}

function bindLocaleSwitcher(initialValue) {
    const switcher = 
        document.querySelector("[data-i18n-switcher]");
    switcher.value = initialValue;
    switcher.onchange = (e) => {
        setLocale(e.target.value);
    };
}

function selectedLang() {
    const en = document.getElementById('switchEn');
    const fr = document.getElementById('switchFr');
    console.log(en)
    if (newLocale = "fr") {
        en.classList.remove('active');
        fr.classList.add('active');
    }
    if (newLocale = "en") {
        fr.classList.remove('active');
        en.classList.add('active');
    }
}
// function changeImgs() {
//     if (defaultLocale = 'fr') {
//         document.getElementsByClassName('desktopSkillsFr').src = "assets/imgs/Illu_2FR.png";
//     }
//     else if (defaultLocale = 'en') {
//         document.getElementsByClassName('desktopSkillsFr').src = "assets/imgs/Illu_2.png";
//     }
// }